/* GNostr Signer application stylesheet */
/* GTK4 CSS - not web CSS. GTK doesn't support @media, flex-direction, position, etc. */

/* ===== Status label styles ===== */
.status-ok {
  color: #2e7d32;
  font-weight: bold;
}

.status-error {
  color: #c62828;
  font-weight: bold;
}

/* Ensure suffix action buttons in rows follow HIG sizing */
.suffix-action {
  min-height: 28px;
  padding: 4px 10px;
}

/* ===== Keyboard Navigation & Focus Indicators ===== */

/* Enhanced focus indicators for keyboard navigation */
*:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
}

/* Focus ring for buttons */
button:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
}

/* Focus ring for suggested/destructive action buttons - higher contrast */
button.suggested-action:focus-visible,
button.destructive-action:focus-visible {
  outline: 3px solid @accent_color;
  outline-offset: 2px;
}

/* Focus indicator for entry rows */
entry:focus-visible,
password-entry:focus-visible,
row.activatable:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: -1px;
}

/* Focus indicator for text views */
textview:focus-visible text {
  outline: 2px solid @accent_color;
  outline-offset: 1px;
}

/* Focus indicator for list box rows */
listboxrow:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: -2px;
}

/* Focus indicator for sidebar navigation */
.navigation-sidebar row:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: -2px;
  background-color: alpha(@accent_color, 0.1);
}

/* Focus indicator for check buttons */
checkbutton:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
}

/* Focus indicator for switches */
switch:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 3px;
}

/* Focus indicator for drop downs */
dropdown:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
}

/* Focus indicator for menu buttons */
menubutton:focus-visible > button {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
}

/* Focus indicator for link buttons */
linkbutton:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
}

/* ===== Keyboard Shortcut Hints ===== */

/* Style for shortcut hints shown in tooltips */
.keyboard-shortcut {
  font-family: monospace;
  font-size: 0.9em;
  padding: 2px 6px;
  background-color: alpha(@window_fg_color, 0.1);
  border-radius: 4px;
}

/* ===== Dialog Focus Management ===== */

/* Ensure dialogs have visible focus indicators */
dialog *:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
}

/* Default button styling in dialogs for Enter key activation */
dialog button.suggested-action {
  font-weight: bold;
}

/* ===== Action Button Grid Focus ===== */

/* Focus indicator for action buttons in profile dashboard */
.action-button:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 3px;
  border-radius: 12px;
}

/* Action button base styling */
.action-button {
  min-width: 100px;
}

/* Flowbox focus handling */
flowboxchild:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 2px;
  border-radius: 8px;
}

/* ===== Enhanced Focus States for Lists ===== */

/* Selection and focus for sidebar rows */
.navigation-sidebar row:selected {
  background-color: alpha(@accent_color, 0.15);
}

.navigation-sidebar row:selected:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: -2px;
  background-color: alpha(@accent_color, 0.2);
}

/* Focus for AdwEntryRow and AdwPasswordEntryRow */
row.entry:focus-within {
  outline: 2px solid @accent_color;
  outline-offset: -1px;
  border-radius: 8px;
}

/* Focus for AdwActionRow when activatable */
row.activatable:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: -2px;
}

/* ===== Sidebar navigation styling ===== */

.navigation-sidebar row {
  padding: 8px 12px;
  min-height: 44px;
}

/* Bottom bar styling */
viewswitcherbar {
  border-top: 1px solid alpha(@borders, 0.5);
  background-color: @headerbar_bg_color;
}

/* Dialog sizing */
dialog {
  min-width: 280px;
}

/* Profile header */
.profile-header {
  padding: 16px;
}

/* ===== Spinner Focus ===== */

spinner:focus-visible {
  outline: 2px solid @accent_color;
  outline-offset: 4px;
  border-radius: 50%;
}

/* ===== Onboarding Assistant Styles ===== */

/* Passphrase strength meter colors */
levelbar.strength-weak block.filled {
  background-color: #c62828;
}

levelbar.strength-fair block.filled {
  background-color: #ef6c00;
}

levelbar.strength-good block.filled {
  background-color: #f9a825;
}

levelbar.strength-strong block.filled {
  background-color: #2e7d32;
}

/* Card style for path selection boxes */
.card {
  padding: 16px;
  border-radius: 12px;
  background-color: alpha(@card_bg_color, 0.8);
  border: 1px solid alpha(@borders, 0.5);
}

.card:hover {
  background-color: alpha(@card_bg_color, 1.0);
  border-color: @accent_color;
}

/* Heading style for option titles */
.heading {
  font-weight: bold;
  font-size: 1.1em;
}

/* Caption style for small helper text */
.caption {
  font-size: 0.85em;
}

/* Success icon color */
image.success {
  color: #2e7d32;
}

/* Warning icon color */
image.warning {
  color: #ef6c00;
}

/* Accent icon color */
image.accent {
  color: @accent_color;
}

/* ===== Approval Dialog Styles ===== */

/* Status banner for pending signature request */
.status-banner {
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 8px;
}

.status-banner.pending {
  background-color: alpha(#8b2635, 0.15);
}

.pending-title {
  color: #8b2635;
  font-weight: bold;
}

.pending-icon {
  color: #8b2635;
}

/* Approve button - green */
button.approve-btn {
  background-color: #2e7d32;
  color: white;
}

button.approve-btn:hover {
  background-color: #388e3c;
}

button.approve-btn:active {
  background-color: #1b5e20;
}

button.approve-btn:disabled {
  background-color: alpha(#2e7d32, 0.5);
  color: alpha(white, 0.5);
}

/* Deny button - red */
button.deny-btn {
  background-color: #c62828;
  color: white;
}

button.deny-btn:hover {
  background-color: #d32f2f;
}

button.deny-btn:active {
  background-color: #b71c1c;
}

/* Details expander styling */
.details-expander {
  margin-top: 8px;
}

.details-expander > title {
  font-size: 0.9em;
  color: alpha(@window_fg_color, 0.7);
}

/* ===== Responsive spacing (use CSS classes, not media queries) ===== */
/* Apply these classes via code based on window size using AdwBreakpoint */

.responsive-margins {
  margin-left: 12px;
  margin-right: 12px;
}

.responsive-margins-wide {
  margin-left: 24px;
  margin-right: 24px;
}

.form-spacing-mobile {
  margin-bottom: 12px;
}

.form-spacing-tablet {
  margin-bottom: 16px;
}

/* Compact sidebar */
.navigation-sidebar.compact row {
  padding: 6px 8px;
}
