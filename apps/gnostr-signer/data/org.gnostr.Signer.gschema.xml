<?xml version="1.0" encoding="UTF-8"?>
<schemalist>
  <schema id="org.gnostr.Signer" path="/org/gnostr/Signer/">

    <!-- Identity Settings -->
    <key name="default-identity" type="s">
      <default>''</default>
      <summary>Default identity id</summary>
      <description>Identifier (npub) for the default/active identity (non-sensitive).</description>
    </key>

    <key name="identity-labels" type="a{ss}">
      <default>{}</default>
      <summary>Identity labels</summary>
      <description>Map of npub to display label for each identity.</description>
    </key>

    <!-- UI Settings -->
    <key name="theme" type="s">
      <default>'system'</default>
      <summary>Preferred theme</summary>
      <description>Theme preference: 'system', 'light', 'dark', or 'high-contrast'.</description>
    </key>

    <key name="high-contrast-variant" type="s">
      <default>'default'</default>
      <summary>High contrast color scheme</summary>
      <description>Color scheme for high contrast mode: 'default' (black on white), 'inverted' (white on black), or 'yellow-on-black'.</description>
    </key>

    <key name="window-width" type="i">
      <default>920</default>
      <summary>Window width</summary>
      <description>Last window width in pixels.</description>
    </key>

    <key name="window-height" type="i">
      <default>640</default>
      <summary>Window height</summary>
      <description>Last window height in pixels.</description>
    </key>

    <key name="window-maximized" type="b">
      <default>false</default>
      <summary>Window maximized</summary>
      <description>Whether the window was maximized.</description>
    </key>

    <!-- Security Settings -->
    <key name="lock-timeout-sec" type="i">
      <default>300</default>
      <summary>Auto-lock timeout</summary>
      <description>Seconds of inactivity before locking the signer UI and keys. 0 disables auto-lock.</description>
    </key>

    <key name="session-lock-on-idle" type="b">
      <default>true</default>
      <summary>Lock on system idle</summary>
      <description>Automatically lock the session when the system goes idle or the screen locks.</description>
    </key>

    <key name="session-require-password" type="b">
      <default>false</default>
      <summary>Require password to unlock</summary>
      <description>Whether a password is required to unlock the session. When false, the session can be unlocked without authentication.</description>
    </key>

    <key name="session-warning-sec" type="i">
      <default>60</default>
      <summary>Session timeout warning</summary>
      <description>Seconds before auto-lock to show a warning. 0 disables the warning.</description>
    </key>

    <key name="remember-approvals" type="b">
      <default>false</default>
      <summary>Remember approvals</summary>
      <description>Whether to remember app approvals according to ACL policies.</description>
    </key>

    <key name="approval-ttl-hours" type="i">
      <default>24</default>
      <summary>Approval TTL hours</summary>
      <description>Hours to remember an approval decision. 0 means forever.</description>
    </key>

    <key name="require-confirmation-kinds" type="as">
      <default>['4', '30023']</default>
      <summary>Kinds requiring confirmation</summary>
      <description>Event kinds that always require user confirmation (e.g., DMs, long-form).</description>
    </key>

    <!-- Network Settings -->
    <key name="relays" type="as">
      <default>['wss://relay.damus.io', 'wss://nos.lol', 'wss://relay.nostr.band', 'wss://relay.primal.net']</default>
      <summary>Relay URLs</summary>
      <description>
        List of Nostr relay URLs (ws:// or wss://) for bunker and signing operations.
        Values should be normalized (lowercase scheme/host, no trailing slash).
      </description>
    </key>

    <key name="tor-socks" type="s">
      <default>''</default>
      <summary>Tor SOCKS proxy</summary>
      <description>SOCKS5 proxy URI for Tor (e.g., socks5://127.0.0.1:9050).</description>
    </key>

    <key name="use-tor-for-relays" type="b">
      <default>false</default>
      <summary>Use Tor for relays</summary>
      <description>Route all relay connections through Tor proxy.</description>
    </key>

    <key name="bootstrap-relays" type="as">
      <default>['wss://relay.damus.io', 'wss://relay.nostr.band', 'wss://nos.lol']</default>
      <summary>Bootstrap relays</summary>
      <description>Initial relays to connect to before fetching user's relay list.</description>
    </key>

    <!-- NIP-46 Bunker Settings -->
    <key name="bunker-enabled" type="b">
      <default>false</default>
      <summary>Enable NIP-46 bunker</summary>
      <description>Expose remote signer interface as per NIP-46.</description>
    </key>

    <key name="bunker-relays" type="as">
      <default>[]</default>
      <summary>Bunker relays</summary>
      <description>Relays to listen on for NIP-46 bunker requests.</description>
    </key>

    <key name="bunker-allowed-pubkeys" type="as">
      <default>[]</default>
      <summary>Allowed bunker pubkeys</summary>
      <description>Public keys allowed to connect to this bunker (empty = all).</description>
    </key>

    <key name="bunker-allowed-methods" type="as">
      <default>['get_public_key', 'sign_event', 'nip04_encrypt', 'nip04_decrypt', 'nip44_encrypt', 'nip44_decrypt']</default>
      <summary>Allowed bunker methods</summary>
      <description>NIP-46 methods clients are allowed to call.</description>
    </key>

    <key name="bunker-auto-approve-kinds" type="as">
      <default>['1', '6', '7']</default>
      <summary>Auto-approve event kinds</summary>
      <description>Event kinds to auto-approve without prompting (notes, reposts, reactions).</description>
    </key>

    <!-- Logging Settings -->
    <key name="log-signing-requests" type="b">
      <default>true</default>
      <summary>Log signing requests</summary>
      <description>Keep an audit log of signing requests.</description>
    </key>

    <key name="log-retention-days" type="i">
      <default>30</default>
      <summary>Log retention days</summary>
      <description>Days to keep signing logs. 0 keeps forever.</description>
    </key>

    <!-- Onboarding Settings -->
    <key name="onboarding-completed" type="b">
      <default>false</default>
      <summary>Onboarding completed</summary>
      <description>Whether the new user onboarding wizard has been completed. Set to false to re-show on next launch.</description>
    </key>

    <!-- Startup Settings -->
    <key name="autostart" type="b">
      <default>false</default>
      <summary>Auto-start on login</summary>
      <description>Start the signer daemon automatically on user login.</description>
    </key>

    <key name="start-minimized" type="b">
      <default>false</default>
      <summary>Start minimized</summary>
      <description>Start the application minimized to system tray.</description>
    </key>

    <!-- Account List Settings -->
    <key name="account-order" type="as">
      <default>[]</default>
      <summary>Account order</summary>
      <description>Order of accounts in the account selector (npub list).</description>
    </key>

  </schema>
</schemalist>
