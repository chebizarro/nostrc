<?xml version="1.0" encoding="UTF-8"?>
<schemalist>
  <schema id="org.gnostr.gnostr" path="/org/gnostr/gnostr/">
    <key name="relays" type="as">
      <default>['wss://relay.damus.io', 'wss://nos.lol', 'wss://relay.nostr.band', 'wss://relay.primal.net', 'wss://purplepag.es']</default>
      <summary>Relay URLs</summary>
      <description>
        List of Nostr relay URLs (ws:// or wss://). Values should be normalized
        (lowercase scheme/host, no trailing slash) for canonical storage.
      </description>
    </key>
    <key name="relay-types" type="as">
      <default>[]</default>
      <summary>Relay Types (NIP-65)</summary>
      <description>
        List of relay types corresponding to relays in the same order.
        Values: "rw" (read+write, default), "r" (read-only), "w" (write-only).
        Used for NIP-65 relay list metadata (kind 10002).
      </description>
    </key>
    <key name="relays-window-width" type="i">
      <default>520</default>
      <summary>Relay Manager window width</summary>
      <description>Last used width for the Relay Manager dialog.</description>
    </key>
    <key name="relays-window-height" type="i">
      <default>420</default>
      <summary>Relay Manager window height</summary>
      <description>Last used height for the Relay Manager dialog.</description>
    </key>
    <key name="dm-relays" type="as">
      <default>['wss://relay.damus.io', 'wss://nos.lol', 'wss://auth.nostr1.com']</default>
      <summary>DM Relay URLs (NIP-17)</summary>
      <description>
        List of Nostr relay URLs specifically for direct messages (NIP-17).
        These are the user's "inbox" relays where they receive gift-wrapped DMs.
        If empty, falls back to regular relays. Published in kind 10050 events.
      </description>
    </key>
    <key name="index-relays" type="as">
      <default>['wss://relay.nostr.band', 'wss://search.nos.today']</default>
      <summary>Index Relay URLs (NIP-50 search)</summary>
      <description>
        List of Nostr relay URLs that support NIP-50 search queries.
        These relays are used for the Discover tab to search for profiles
        by name, npub, NIP-05, or keywords. Index relays maintain search
        indexes and respond to filters with a "search" field.
      </description>
    </key>
  </schema>
  <!-- Display settings -->
  <schema id="org.gnostr.Display" path="/org/gnostr/display/">
    <key name="color-scheme" type="s">
      <default>'system'</default>
      <summary>Color scheme preference</summary>
      <description>
        The preferred color scheme: 'system' (follow system), 'light', or 'dark'.
      </description>
    </key>
    <key name="font-scale" type="d">
      <default>1.0</default>
      <summary>Font scale factor</summary>
      <description>
        Multiplier for the base font size. Range: 0.8 to 1.5.
        1.0 = normal, 1.2 = larger, 0.8 = smaller.
      </description>
    </key>
    <key name="timeline-density" type="s">
      <default>'normal'</default>
      <summary>Timeline density</summary>
      <description>
        How compact to display timeline items: 'compact', 'normal', or 'comfortable'.
      </description>
    </key>
    <key name="enable-animations" type="b">
      <default>true</default>
      <summary>Enable animations</summary>
      <description>
        Whether to show animations in the UI (note cards, transitions, etc.).
        Disabling may improve performance on slower hardware.
      </description>
    </key>
    <key name="show-avatars" type="b">
      <default>true</default>
      <summary>Show avatars</summary>
      <description>
        Whether to display profile avatars in timeline and conversations.
        Disabling reduces network requests and memory usage.
      </description>
    </key>
    <key name="show-media-previews" type="b">
      <default>true</default>
      <summary>Show media previews</summary>
      <description>
        Whether to show inline previews for images and videos in notes.
        Disabling reduces bandwidth and may improve privacy.
      </description>
    </key>
    <key name="auto-show-sensitive" type="b">
      <default>false</default>
      <summary>Auto-show sensitive content (NIP-36)</summary>
      <description>
        Whether to automatically show content marked as sensitive/NSFW
        without requiring a click. When disabled, sensitive content is
        blurred with a "Show sensitive content" button overlay.
      </description>
    </key>
  </schema>
  <!-- Client identity and login-related settings -->
  <schema id="org.gnostr.Client" path="/org/gnostr/client/">
    <key name="current-npub" type="s">
      <default>''</default>
      <summary>Currently selected identity (npub)</summary>
      <description>
        The bech32 npub of the active identity. Empty string means not signed in.
      </description>
    </key>
    <key name="known-accounts" type="as">
      <default>[]</default>
      <summary>Known account npubs</summary>
      <description>
        List of npubs for accounts that have been logged into.
        Used for multi-account switching. The current-npub should be in this list
        when signed in. Accounts can be removed individually or kept for quick switching.
      </description>
    </key>
    <key name="nip46-timeout-ms" type="i">
      <default>15000</default>
      <summary>NIP-46 pairing timeout (ms)</summary>
      <description>
        Maximum time to wait for remote signer pairing response before aborting.
      </description>
    </key>
    <!-- nostrc-1wfi: NIP-46 session persistence -->
    <key name="nip46-client-secret" type="s">
      <default>''</default>
      <summary>NIP-46 client secret key (hex)</summary>
      <description>
        The client's secret key for NIP-46 remote signer communication.
        This is used for ECDH encryption when talking to the signer.
        Empty string means no active NIP-46 session.
      </description>
    </key>
    <key name="nip46-signer-pubkey" type="s">
      <default>''</default>
      <summary>NIP-46 signer public key (hex)</summary>
      <description>
        The remote signer's public key (64-char hex).
        This is the ECDH peer for encrypting requests to the signer.
      </description>
    </key>
    <key name="nip46-relays" type="as">
      <default>[]</default>
      <summary>NIP-46 relay URLs</summary>
      <description>
        The relay URLs used for NIP-46 communication with the signer.
        Empty array means use default relay.
      </description>
    </key>
    <key name="nwc-connection-uri" type="s">
      <default>''</default>
      <summary>NWC Connection URI</summary>
      <description>
        NIP-47 Nostr Wallet Connect URI (nostr+walletconnect://...).
        Contains wallet pubkey, secret, relay URL, and optional lud16.
        Empty string means no wallet connected.
      </description>
    </key>
    <key name="blossom-server" type="s">
      <default>'https://blossom.primal.net'</default>
      <summary>Default Blossom Server</summary>
      <description>
        Default Blossom media server URL for file uploads.
        Used when uploading images, videos, or other media to notes.
      </description>
    </key>
    <key name="blossom-servers" type="as">
      <default>['https://blossom.primal.net']</default>
      <summary>Blossom Server List</summary>
      <description>
        List of Blossom media server URLs (kind 10063).
        The first server in the list is used as the default for uploads.
      </description>
    </key>
    <key name="video-autoplay" type="b">
      <default>false</default>
      <summary>Video Autoplay</summary>
      <description>
        Whether videos should automatically start playing when they appear in the timeline.
        When disabled, user must click to start playback.
      </description>
    </key>
    <key name="video-loop" type="b">
      <default>false</default>
      <summary>Video Loop</summary>
      <description>
        Whether videos should loop continuously after reaching the end.
        When disabled, videos stop at the end of playback.
      </description>
    </key>
    <key name="image-quality" type="s">
      <default>'auto'</default>
      <summary>Image quality preference</summary>
      <description>
        Preferred image quality: 'auto' (adaptive), 'high', 'medium', or 'low'.
        Lower quality reduces bandwidth usage.
      </description>
    </key>
    <key name="nip51-sync-enabled" type="b">
      <default>true</default>
      <summary>NIP-51 settings sync enabled</summary>
      <description>
        Whether to sync app settings with NIP-51 lists (kind 30078).
        When enabled, settings are backed up to relays and restored on login.
      </description>
    </key>
    <key name="nip51-last-sync" type="x">
      <default>0</default>
      <summary>NIP-51 last sync timestamp</summary>
      <description>
        Unix timestamp of the last successful NIP-51 settings sync.
      </description>
    </key>
    <!-- Cache size limits -->
    <key name="image-cache-max-mb" type="i">
      <default>500</default>
      <summary>Image cache maximum size (MB)</summary>
      <description>
        Maximum size in megabytes for the image/avatar cache.
        When exceeded, oldest files are pruned on startup.
        Set to 0 to disable automatic pruning.
      </description>
    </key>
    <key name="ndb-cache-max-mb" type="i">
      <default>1024</default>
      <summary>Nostrdb cache maximum size (MB)</summary>
      <description>
        Maximum size in megabytes for the nostrdb event cache.
        When exceeded, oldest events are pruned on startup.
        Set to 0 to disable automatic pruning.
      </description>
    </key>
    <key name="nip89-handler-preferences" type="as">
      <default>[]</default>
      <summary>NIP-89 handler preferences</summary>
      <description>
        User's preferred handlers for different event kinds (NIP-89).
        Each entry is "kind:a_tag" where kind is the event kind number
        and a_tag is the handler's addressable identifier (31989:pubkey:d).
        Example: ["1:31989:abc123...:primal", "1111:31989:def456...:nostrudel"]
      </description>
    </key>
    <key name="cache-prune-on-startup" type="b">
      <default>true</default>
      <summary>Prune cache on startup</summary>
      <description>
        Whether to automatically prune caches when the app starts.
        Pruning removes oldest entries when cache exceeds size limits.
      </description>
    </key>
    <key name="background-mode" type="b">
      <default>false</default>
      <summary>Background mode enabled</summary>
      <description>
        When enabled, closing the main window hides it instead of quitting.
        The app continues running in the background, keeping relay connections
        alive and receiving notifications. Quit via the system tray menu.
      </description>
    </key>
  </schema>
  <!-- Plugin settings -->
  <schema id="org.gnostr.Client.plugins" path="/org/gnostr/client/plugins/">
    <key name="enabled-plugins" type="as">
      <default>['nip34-git', 'nip64-chess']</default>
      <summary>Enabled plugins</summary>
      <description>
        List of plugin module names that are enabled and should be loaded on startup.
        Example: ['nip34-git', 'nip57-zaps']
      </description>
    </key>
  </schema>
  <!-- Notification settings -->
  <schema id="org.gnostr.Notifications" path="/org/gnostr/notifications/">
    <!-- Global notification toggle -->
    <key name="enabled" type="b">
      <default>true</default>
      <summary>Notifications enabled</summary>
      <description>
        Master switch for all notifications. When disabled, no notifications
        will be shown regardless of per-type settings.
      </description>
    </key>
    <!-- Per-type notification toggles -->
    <key name="notify-dm-enabled" type="b">
      <default>true</default>
      <summary>DM notifications enabled</summary>
      <description>
        Whether to show notifications for new direct messages.
      </description>
    </key>
    <key name="notify-mention-enabled" type="b">
      <default>true</default>
      <summary>Mention notifications enabled</summary>
      <description>
        Whether to show notifications when mentioned in notes.
      </description>
    </key>
    <key name="notify-reply-enabled" type="b">
      <default>true</default>
      <summary>Reply notifications enabled</summary>
      <description>
        Whether to show notifications for replies to your notes.
      </description>
    </key>
    <key name="notify-zap-enabled" type="b">
      <default>true</default>
      <summary>Zap notifications enabled</summary>
      <description>
        Whether to show notifications for received zaps.
      </description>
    </key>
    <key name="notify-repost-enabled" type="b">
      <default>true</default>
      <summary>Repost notifications enabled</summary>
      <description>
        Whether to show notifications when your notes are reposted.
      </description>
    </key>
    <key name="notify-reaction-enabled" type="b">
      <default>true</default>
      <summary>Reaction notifications enabled</summary>
      <description>
        Whether to show notifications for reactions to your notes.
      </description>
    </key>
    <!-- Notification presentation options -->
    <key name="sound-enabled" type="b">
      <default>true</default>
      <summary>Notification sound enabled</summary>
      <description>
        Whether to play a sound when notifications arrive.
      </description>
    </key>
    <key name="tray-badge-enabled" type="b">
      <default>true</default>
      <summary>Tray badge enabled</summary>
      <description>
        Whether to show unread count badge on the tray icon.
      </description>
    </key>
    <key name="desktop-popup-enabled" type="b">
      <default>true</default>
      <summary>Desktop popup notifications enabled</summary>
      <description>
        Whether to show desktop notification popups.
      </description>
    </key>
    <!-- Badge settings (per-type) -->
    <key name="badge-dm-enabled" type="b">
      <default>true</default>
      <summary>Badge for DMs enabled</summary>
      <description>
        Whether to show badge count for unread direct messages.
      </description>
    </key>
    <key name="badge-mention-enabled" type="b">
      <default>true</default>
      <summary>Badge for mentions enabled</summary>
      <description>
        Whether to show badge count for mentions in notes.
      </description>
    </key>
    <key name="badge-reply-enabled" type="b">
      <default>true</default>
      <summary>Badge for replies enabled</summary>
      <description>
        Whether to show badge count for replies to your notes.
      </description>
    </key>
    <key name="badge-zap-enabled" type="b">
      <default>true</default>
      <summary>Badge for zaps enabled</summary>
      <description>
        Whether to show badge count for zap receipts.
      </description>
    </key>
    <key name="badge-repost-enabled" type="b">
      <default>true</default>
      <summary>Badge for reposts enabled</summary>
      <description>
        Whether to show badge count for reposts of your notes.
      </description>
    </key>
    <key name="badge-reaction-enabled" type="b">
      <default>true</default>
      <summary>Badge for reactions enabled</summary>
      <description>
        Whether to show badge count for reactions to your notes.
      </description>
    </key>
    <key name="badge-display-mode" type="s">
      <default>'count'</default>
      <summary>Badge display mode</summary>
      <description>
        How to display the notification badge: 'count' (numeric), 'dot' (indicator), or 'none'.
      </description>
    </key>
    <!-- Last read timestamps -->
    <key name="last-read-dm" type="x">
      <default>0</default>
      <summary>Last read DM timestamp</summary>
      <description>
        Unix timestamp of when DMs were last viewed.
      </description>
    </key>
    <key name="last-read-mention" type="x">
      <default>0</default>
      <summary>Last read mention timestamp</summary>
      <description>
        Unix timestamp of when mentions were last viewed.
      </description>
    </key>
    <key name="last-read-reply" type="x">
      <default>0</default>
      <summary>Last read reply timestamp</summary>
      <description>
        Unix timestamp of when replies were last viewed.
      </description>
    </key>
    <key name="last-read-zap" type="x">
      <default>0</default>
      <summary>Last read zap timestamp</summary>
      <description>
        Unix timestamp of when zaps were last viewed.
      </description>
    </key>
    <key name="last-read-repost" type="x">
      <default>0</default>
      <summary>Last read repost timestamp</summary>
      <description>
        Unix timestamp of when reposts were last viewed.
      </description>
    </key>
    <key name="last-read-reaction" type="x">
      <default>0</default>
      <summary>Last read reaction timestamp</summary>
      <description>
        Unix timestamp of when reactions were last viewed.
      </description>
    </key>
  </schema>
</schemalist>
