#pragma once

/**
 * SECTION:nostr-glib-version
 * @short_description: nostr-glib version checking
 *
 * nostr-glib provides macros to check the version of the library
 * at compile-time.
 */

/**
 * NOSTR_GLIB_MAJOR_VERSION:
 *
 * nostr-glib major version component (e.g. 1 if the version is 1.2.3)
 */
#define NOSTR_GLIB_MAJOR_VERSION (@NOSTR_GLIB_MAJOR_VERSION@)

/**
 * NOSTR_GLIB_MINOR_VERSION:
 *
 * nostr-glib minor version component (e.g. 2 if the version is 1.2.3)
 */
#define NOSTR_GLIB_MINOR_VERSION (@NOSTR_GLIB_MINOR_VERSION@)

/**
 * NOSTR_GLIB_MICRO_VERSION:
 *
 * nostr-glib micro version component (e.g. 3 if the version is 1.2.3)
 */
#define NOSTR_GLIB_MICRO_VERSION (@NOSTR_GLIB_MICRO_VERSION@)

/**
 * NOSTR_GLIB_VERSION:
 *
 * nostr-glib version as a string (e.g. "1.2.3")
 */
#define NOSTR_GLIB_VERSION "@NOSTR_GLIB_VERSION@"

/**
 * NOSTR_GLIB_CHECK_VERSION:
 * @major: required major version
 * @minor: required minor version
 * @micro: required micro version
 *
 * Compile-time version checking. Evaluates to %TRUE if the version
 * of nostr-glib is greater than or equal to the required one.
 */
#define NOSTR_GLIB_CHECK_VERSION(major,minor,micro) \
  (NOSTR_GLIB_MAJOR_VERSION > (major) || \
   (NOSTR_GLIB_MAJOR_VERSION == (major) && NOSTR_GLIB_MINOR_VERSION > (minor)) || \
   (NOSTR_GLIB_MAJOR_VERSION == (major) && NOSTR_GLIB_MINOR_VERSION == (minor) && \
    NOSTR_GLIB_MICRO_VERSION >= (micro)))
